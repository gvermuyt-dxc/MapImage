sap.ui.define(["sap/ui/core/mvc/Controller",
				"sap/ui/core/util/File",
               "sap/base/Log"], function (Controller, File, Log) {
	"use strict";
	return Controller.extend("mapimage.MapImage.controller.View1", {
		onInit: function () {},
		/**
		 *@memberOf mapimage.MapImage.controller.View1
		 */
		getRoute: function (oEvent) {
			//This code was generated by the layout editor.
			//Log.info(this.getView().byId("area0").getValue());
			
			var strCoord;
			strCoord = this.getView().byId("area0").getValue().toString();
			strCoord = strCoord.replace(/[\n\r]/g, ",");
			strCoord = strCoord.replace(/[ ]/g, "");
			strCoord = strCoord.trim();
			//Log.info(strCoord);

			var oView = null;
			oView = this.getView();	
			
			var bundle = oView.getModel("here").getResourceBundle();
			var APIKey = bundle.getText("APIKey");
			var sURL = "/map/mia/1.6/route?apiKey=" + APIKey + "&r0=" + strCoord;
			
			var oImage = oView.byId("image");
			oImage.setSrc(sURL);          

		}
	});
});